<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yoursite.com","root":"/","scheme":"Gemini","version":"8.0.0-rc.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="没有无用的知识。">
<meta property="og:type" content="website">
<meta property="og:title" content="Introspection">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Introspection">
<meta property="og:description" content="没有无用的知识。">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="rockham">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://yoursite.com/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>Introspection</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Introspection</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">学无止境</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/09/16/C++Primer/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="rockham">
      <meta itemprop="description" content="没有无用的知识。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Introspection">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/09/16/C++Primer/" class="post-title-link" itemprop="url">C++ Primer 重点摘选</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-09-16 21:14:07 / 修改时间：13:39:52" itemprop="dateCreated datePublished" datetime="2020-09-16T21:14:07+00:00">2020-09-16</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="Chapter-2-Variables-and-Basic-Types"><a href="#Chapter-2-Variables-and-Basic-Types" class="headerlink" title="Chapter 2 - Variables and Basic Types"></a>Chapter 2 - Variables and Basic Types</h2><h3 id="2-1-Primitive-Built-in-Types"><a href="#2-1-Primitive-Built-in-Types" class="headerlink" title="2.1 Primitive Built-in Types"></a>2.1 Primitive Built-in Types</h3><blockquote>
<p>C++ defines a set of primitive types that include the <strong>arithmetic types</strong> and a special type named <strong>void</strong>. The arithmetic types represent characters, integers, boolean values, and floating-point numbers. The void type has no associated values and can be used in only a few circumstances, most commonly as the return type for functions that do not return a value.</p>
</blockquote>
<h4 id="2-1-1-Arithmetic-Types"><a href="#2-1-1-Arithmetic-Types" class="headerlink" title="2.1.1 Arithmetic Types"></a>2.1.1 Arithmetic Types</h4><blockquote>
<p>The arithmetic types are divided into two categories: <strong>integral types</strong>(which include character and boolean types) and <strong>floating-point types</strong>.</p>
</blockquote>
<h4 id="2-1-2-Type-Conversions"><a href="#2-1-2-Type-Conversions" class="headerlink" title="2.1.2 Type Conversions"></a>2.1.2 Type Conversions</h4><blockquote>
<p>The type of an object defines the data that an object might contain and what operations that object can perform. Among the operations that many types support is the ability to convert objects of the given type to other, related types.</p>
<p>Type conversions happen automatically when we use an object of one type where an object of another type is expected.</p>
</blockquote>
<h3 id="2-2-Variables"><a href="#2-2-Variables" class="headerlink" title="2.2 Variables"></a>2.2 Variables</h3><h4 id="2-2-1-Variable-Definitions"><a href="#2-2-1-Variable-Definitions" class="headerlink" title="2.2.1 Variable Definitions"></a>2.2.1 Variable Definitions</h4><blockquote>
<p>C++ programmers tend to be cavalier in their use of the term object. Most generally, an object is a region of memory that can contain data and has a type.</p>
</blockquote>
<ol>
<li>int number = 1;</li>
<li>int number = {1};</li>
<li>int number{1};</li>
<li>int number(1);</li>
</ol>
<blockquote>
<p>The compiler will not let us list initialize variables of built-in type if the initializer might lead to the loss of information.</p>
</blockquote>
<blockquote>
<p>Initialization in C++ is a surprisingly complicated topic and one we will return<br>to again and again. Many programmers are confused by the use of the = symbol to<br>initialize a variable. It is tempting to think of initialization as a form of assignment,<br>but initialization and assignment are different operations in C++. This concept<br>is particularly confusing because in many languages the distinction is irrelevant<br>and can be ignored. Moreover, even in C++ the distinction often doesn’t matter.</p>
</blockquote>
<blockquote>
<p>⚠ Initialization is not assignment. Initialization happens when a variable<br>is given a value when it is created. Assignment obliterates an object’s<br>current value and replaces that value with a new one.</p>
</blockquote>
<blockquote>
<p>The value of an object of built-in type that is not explicitly initialized depends<br>on where it is defined. Variables defined outside any function body are initialized<br>to zero. With one exception, which we cover in § 6.1.1 (p. 205), variables of built-in<br>type defined inside a function areuninitialized. The valueof an uninitialized vari-<br>able of built-in type is undefined (§ 2.1.2, p. 36). It is an error to copy or otherwise<br>try to access the value of a variable whose value is undefined.</p>
</blockquote>
<blockquote>
<p>Uninitialized objects of built-in type defined inside a function body<br>have undefined value. Objects of class type that we do not explicitly<br>initialize have a value that is defined by the class.</p>
</blockquote>
<p>使用内置类型时最好先初始化。</p>
<h4 id="2-2-2-作用域-Scope"><a href="#2-2-2-作用域-Scope" class="headerlink" title="2.2.2 作用域 - Scope"></a>2.2.2 作用域 - Scope</h4><blockquote>
<p>Once a name has been declared in a scope, that name can be used by scopes<br>nested inside that scope. Names declared in the outer scope can also be <strong>redefined</strong><br>in an inner scope.</p>
</blockquote>
<blockquote>
<p>⚠ It is almost always a bad idea to define a local variable with the same<br>name as a global variable that the function uses or might use.</p>
</blockquote>
<h3 id="2-3-复合类型-Compound-types"><a href="#2-3-复合类型-Compound-types" class="headerlink" title="2.3 复合类型 - Compound types"></a>2.3 复合类型 - Compound types</h3><h4 id="2-3-1-引用-References"><a href="#2-3-1-引用-References" class="headerlink" title="2.3.1 引用 - References"></a>2.3.1 引用 - References</h4><p>A Reference Is an Alias.</p>
<p>A reference must be initialized.</p>
<p>Reference is not object.</p>
<p>References cannot be rebind.</p>
<h4 id="2-3-2-指针-Pointers"><a href="#2-3-2-指针-Pointers" class="headerlink" title="2.3.2 指针 - Pointers"></a>2.3.2 指针 - Pointers</h4><blockquote>
<p>The most direct approach is to initialize the pointer using the literal nullptr,<br>which was introduced by the new standard. nullptr is a literal that has a special<br>type that can be converted</p>
</blockquote>
<blockquote>
<p>The value (i.e., the address) stored in a pointer can be in one of four states:</p>
<ol>
<li>It can point to an object.</li>
<li>It can point to the location just immediately past the end of an object.</li>
<li>It can be a null pointer, indicating that it is not bound to any object.</li>
<li>It can be invalid; values other than the preceding three are invalid.</li>
</ol>
</blockquote>
<blockquote>
<p>It can be easier to understand complicated pointer or reference declarations if you read them from right to left.</p>
</blockquote>
<h3 id="2-4-const-Qulifier"><a href="#2-4-const-Qulifier" class="headerlink" title="2.4 const Qulifier"></a>2.4 const Qulifier</h3><h4 id="2-4-1-References-to-const"><a href="#2-4-1-References-to-const" class="headerlink" title="2.4.1 References to const"></a>2.4.1 References to const</h4><blockquote>
<p>we can bind a reference to const to a nonconst object, a literal, or a more general expression. p.61</p>
</blockquote>
<h4 id="2-4-2-Pointers-and-const"><a href="#2-4-2-Pointers-and-const" class="headerlink" title="2.4.2 Pointers and const"></a>2.4.2 Pointers and const</h4><p>Pointers to const</p>
<blockquote>
<p>It may be helpful to think of pointers and references to const as pointers or references ”that think they point or refer to const.”</p>
</blockquote>
<p>const Pointers</p>
<h4 id="2-4-3-Top-Level-const"><a href="#2-4-3-Top-Level-const" class="headerlink" title="2.4.3 Top-Level const"></a>2.4.3 Top-Level const</h4><blockquote>
<p>The distinction between top-level and low-level matters when we copy an object. When we copy an object, top-level consts are ignored. On the other hand, low-level const is never ignored.</p>
</blockquote>
<h4 id="2-4-4-constexpr-and-Constant-Expressions"><a href="#2-4-4-constexpr-and-Constant-Expressions" class="headerlink" title="2.4.4 constexpr and Constant Expressions"></a>2.4.4 <code>constexpr</code> and Constant Expressions</h4><blockquote>
<p>A constant expression is an expression whose value cannot change and that can be evaluated at compile time. A literal is a constant expression. A <code>const</code> object that is initialized from a constant expression is also a constant expression. </p>
</blockquote>
<blockquote>
<p>In a large system, it can be difficult to determine (for certain) that an initializer is a<br>constant expression. </p>
<p>Under the new standard, we can ask the compiler to verify that a variable is a constant expression by declaring the variable in a <code>constexpr</code> declaration. Variables declared as constexpr are implicitly const and must be initialized by constant expressions. *&lt;C++11&gt;*</p>
</blockquote>
<h3 id="2-5-Dealing-with-types"><a href="#2-5-Dealing-with-types" class="headerlink" title="2.5 Dealing with types"></a>2.5 Dealing with types</h3><h4 id="2-5-1-Type-Aliases"><a href="#2-5-1-Type-Aliases" class="headerlink" title="2.5.1 Type Aliases"></a>2.5.1 Type Aliases</h4><h4 id="2-5-2-The-auto-Type-Specifier-lt-C-11-gt"><a href="#2-5-2-The-auto-Type-Specifier-lt-C-11-gt" class="headerlink" title="2.5.2 The auto Type Specifier *&lt;C++11&gt;*"></a>2.5.2 The <code>auto</code> Type Specifier *&lt;C++11&gt;*</h4><blockquote>
<p>By implication, a variable that uses auto as its type specifier must have an initializer.</p>
</blockquote>
<blockquote>
<p> Auto ordinarily ignores top-level consts.</p>
</blockquote>
<h4 id="2-5-3-The-decltype-Type-Specifier-lt-C-11-gt"><a href="#2-5-3-The-decltype-Type-Specifier-lt-C-11-gt" class="headerlink" title="2.5.3 The decltype Type Specifier *&lt;C++11&gt;*"></a>2.5.3 The <code>decltype</code> Type Specifier *&lt;C++11&gt;*</h4><blockquote>
<p>Sometimes we want to define a variable with a type that the compiler deduces<br>from an expression but do not want to use that expression to initialize the variable.</p>
</blockquote>
<blockquote>
<p><code>decltype</code> returns a reference type for expressions that yield objects that can stand on the left-hand side of the assignment.</p>
</blockquote>
<blockquote>
<p><code>decltype</code> of a parenthesized variable is always a reference.</p>
</blockquote>
<h3 id="2-6-Define-Our-Own-Data-Structures"><a href="#2-6-Define-Our-Own-Data-Structures" class="headerlink" title="2.6 Define Our Own Data Structures"></a>2.6 Define Our Own Data Structures</h3><blockquote>
<p>Ordinarily,it is a bad idea to define an object as part of a class definition. Doing so obscures the code by combining the definitions of two different entities—the class and a<br>variable—in a single statement.</p>
</blockquote>
<blockquote>
<p>Under the new standard, we can supply an in-class initializer for a data mem-<br>ber. When we create objects, the in-class initializers will be used to initialize the<br>datamembers. Memberswithout aninitializeraredefaultinitialized. &lt;C++11&gt;</p>
</blockquote>
<h4 id="2-6-3-Writing-Our-Own-Header-Files"><a href="#2-6-3-Writing-Our-Own-Header-Files" class="headerlink" title="2.6.3 Writing Our Own Header Files"></a>2.6.3 Writing Our Own Header Files</h4><blockquote>
<p>Headers (usually) contain entities (such as class definitions and const and<br>constexpr variables) that can be defined only once in any given file.</p>
</blockquote>
<blockquote>
<p>Preprocessor variables, including names of header guards, must be unique throughout the program. Typically we ensure uniqueness by basing the guard’s name on the name of a class in the header. To avoid name clashes with other entities in our programs, preprocessor variables usually are written in all uppercase.</p>
</blockquote>
<blockquote>
<p>Headers should have guards, even if they aren’t (yet) included by another header. Header guards are trivial to write, and by habitually defining them you don’t need to decide whether they are needed.</p>
</blockquote>
<h2 id="Chapter-3-Strings-Vectors-and-Arrays"><a href="#Chapter-3-Strings-Vectors-and-Arrays" class="headerlink" title="Chapter 3 - Strings, Vectors and Arrays"></a>Chapter 3 - Strings, Vectors and Arrays</h2><blockquote>
<p>A string is a variable-length sequence of characters. A vector holds a variable-length sequence of objects of a given type</p>
</blockquote>
<h3 id="3-1-Namespace-using-Declarations"><a href="#3-1-Namespace-using-Declarations" class="headerlink" title="3.1 Namespace using Declarations"></a>3.1 Namespace <code>using</code> Declarations</h3><blockquote>
<p>Headers Should Not Include using Declarations.</p>
</blockquote>
<h3 id="3-2-Library-string-Type"><a href="#3-2-Library-string-Type" class="headerlink" title="3.2 Library string Type"></a>3.2 Library <code>string</code> Type</h3><h4 id="3-2-1-Defining-and-Initializing-strings"><a href="#3-2-1-Defining-and-Initializing-strings" class="headerlink" title="3.2.1 Defining and Initializing strings"></a>3.2.1 Defining and Initializing <code>string</code>s</h4><p>copy initializing and direct initializing</p>
<h4 id="3-2-2-Operations-on-strings"><a href="#3-2-2-Operations-on-strings" class="headerlink" title="3.2.2 Operations on strings"></a>3.2.2 Operations on <code>string</code>s</h4><blockquote>
<p>This <code>getline</code> function reads the given stream up to and including the first newline and stores what it read—not including the newline—in its string argument.</p>
</blockquote>
<blockquote>
<p>Although we don’t know the precise type of string::size_type, we do know that it is an <strong>unsigned</strong> type big enough to hold the size of any string. Any variable used to store the result from the string size operation should be of type string::size_type.</p>
</blockquote>
<blockquote>
<p>⚠ For historical reasons, and for compatibility with C, string literals are not standard library strings. It is important to remember that these types differ when you use string literals and library strings.</p>
</blockquote>
<h4 id="3-2-3-Dealing-with-the-Characters-in-a-string"><a href="#3-2-3-Dealing-with-the-Characters-in-a-string" class="headerlink" title="3.2.3 Dealing with the Characters in a string"></a>3.2.3 Dealing with the Characters in a <code>string</code></h4><blockquote>
<p>Ordinarily, C++ programs should use the <em>cname</em> versions of headers and not the <em>name.h</em> versions.</p>
</blockquote>
<h3 id="3-3-Library-vector-Type"><a href="#3-3-Library-vector-Type" class="headerlink" title="3.3 Library vector Type"></a>3.3 Library <code>vector</code> Type</h3><blockquote>
<p>A vector is often referred to as a container because it “contains” other objects.</p>
</blockquote>
<blockquote>
<p>Templates are not themselves functions or classes. Instead, they can be thought of as instructions to the compiler for generating classes or functions. The process that the compiler uses to create classes or functions from templates is called <strong>instantiation</strong>. When we use a template, we specify what kind of class or function we want the compiler to instantiate.</p>
</blockquote>
<blockquote>
<p>It is worth noting that earlier versions of C++ used a slightly different syntax<br>to define a vector whose elements are themselves vectors (or another template<br>type). In the past, we had to supply a space between the closing angle bracket<br>of the outer vector and its element type—vector&lt;vector<int> &gt; rather than<br>vector&lt;vector<int>&gt;.</p>
</blockquote>
<h4 id="3-3-1-Defining-and-Initializing-vectors"><a href="#3-3-1-Defining-and-Initializing-vectors" class="headerlink" title="3.3.1 Defining and Initializing vectors"></a>3.3.1 Defining and Initializing <code>vector</code>s</h4><blockquote>
<p>when we use the copy initialization form (i.e., when we use =), we can supply only a single initializer; and when we supply an in-class initializer, we must either use copy initialization  or use curly braces.</p>
</blockquote>
<blockquote>
<p>If we use braces and there is no way to use the initializers to list initialize the object, then those values will be used to construct the object.</p>
</blockquote>
<h4 id="3-3-2-Adding-Elements-to-a-vector"><a href="#3-3-2-Adding-Elements-to-a-vector" class="headerlink" title="3.3.2 Adding Elements to a vector"></a>3.3.2 Adding Elements to a <code>vector</code></h4><blockquote>
<p>The standard requires that vector implementations can efficiently add elements at run time. Because vectors grow efficiently, it is often unnecessary—and can result in poorer performance—to define a vector of a specific size. The exception to this rule is if all the elements actually need the same value. </p>
</blockquote>
<blockquote>
<p>⚠ We cannot use a range <code>for</code> if the body of the loop adds elements to the vector.</p>
<p>⚠ The body of a range for must not change the size of the sequence over which it is iterating.</p>
</blockquote>
<h4 id="3-3-3-Other-vector-Operations"><a href="#3-3-3-Other-vector-Operations" class="headerlink" title="3.3.3 Other vector Operations"></a>3.3.3 Other <code>vector</code> Operations</h4><blockquote>
<p>It is an error to subscript an element that doesn’t exist, but it is an error that the compiler is unlikely to detect. So-called buffer overflow errors are the result of subscripting elements that don’t exist. Such bugs are the most common cause of security problems in  PC and other applications.</p>
<p>A good way to ensure that subscripts are in range is to avoid subscripting altogether by using a range <code>for</code> whenever possible.</p>
</blockquote>
<h3 id="3-4-Introducing-Iterators"><a href="#3-4-Introducing-Iterators" class="headerlink" title="3.4 Introducing Iterators"></a>3.4 Introducing Iterators</h3><blockquote>
<p>All of the library containers have iterators, but only a few of them support the subscript operator.</p>
</blockquote>
<h4 id="3-4-1-Using-Iterators"><a href="#3-4-1-Using-Iterators" class="headerlink" title="3.4.1 Using Iterators"></a>3.4.1 Using Iterators</h4><blockquote>
<p>The iterator returned by <code>end</code> is an iterator positioned “one past the end” of the associated container (or string). This iterator denotes a nonexistent element “off the end”of the container. It is used as a marker indicating when we have processed all the elements. The iterator returned by end is often referred to as the <strong>off-the-end iterator</strong> or abbreviated as “the end iterator.”</p>
</blockquote>
<table>
<thead>
<tr>
<th></th>
<th>Standard Container Iterator Operations</th>
</tr>
</thead>
<tbody><tr>
<td>*iter</td>
<td></td>
</tr>
<tr>
<td>iter-&gt;mem</td>
<td>Equivalent to ( * iter).mem.</td>
</tr>
<tr>
<td>++iter</td>
<td></td>
</tr>
<tr>
<td>–iter</td>
<td></td>
</tr>
<tr>
<td>iter1 == iter2</td>
<td></td>
</tr>
</tbody></table>
<blockquote>
<p>KEY CONCEPT : GENERIC PROGRAMMING<br>Programmers coming to C++ from C or Java might be surprised that we used != rather<br>than &lt; in our for loops such as the one above and in the one on page94. C++ programmers use != as a matter of habit. They do so for the same reason that they use iterators<br>rather than subscripts: This coding style applies equally well to various kinds of containers provided by the library.<br>As we’ve seen, only a few library types, vector and string being among them,have the subscript operator. Similarly, all of the library containers have iterators that define the == and != operators. Most of those iterators do not have the &lt; operator.<br>By routinely using iterators and !=, we don’t have to worry about the precise type of<br>container we’re processing.</p>
</blockquote>
<blockquote>
<p>To let us ask specifically for the <code>const_iterator</code> type, the new standard introduced two new functions named <code>cbegin</code> and <code>cend</code>.</p>
</blockquote>
<h4 id="3-4-2-Iterator-Arithmetic"><a href="#3-4-2-Iterator-Arithmetic" class="headerlink" title="3.4.2 Iterator Arithmetic"></a>3.4.2 Iterator Arithmetic</h4><blockquote>
<table>
<thead>
<tr>
<th></th>
<th>Operations Supported by vector and string Iterators</th>
</tr>
</thead>
<tbody><tr>
<td>iter + n</td>
<td></td>
</tr>
<tr>
<td>iter - n</td>
<td></td>
</tr>
<tr>
<td>iter += n</td>
<td></td>
</tr>
<tr>
<td>iter -= n</td>
<td></td>
</tr>
<tr>
<td>iter1 - iter2</td>
<td></td>
</tr>
<tr>
<td>&gt;,&gt;=,&lt;,&lt;=</td>
<td></td>
</tr>
</tbody></table>
</blockquote>
<h3 id="3-5-Arrays"><a href="#3-5-Arrays" class="headerlink" title="3.5 Arrays"></a>3.5 Arrays</h3><blockquote>
<p>An array is a data structure that is similar to the library <code>vector</code> type but offers a different trade-off between performance and flexibility.</p>
</blockquote>
<h4 id="3-5-1-Defining-and-Initializing-Built-in-Arrays"><a href="#3-5-1-Defining-and-Initializing-Built-in-Arrays" class="headerlink" title="3.5.1 Defining and Initializing Built-in Arrays"></a>3.5.1 Defining and Initializing Built-in Arrays</h4><blockquote>
<p>Arrays are a compound type. An array declarator has the form <code>a[d]</code>, where <code>a</code> is the name being defined and <code>d</code> is the dimension of the array.</p>
<p>The number of elements in an array is part of the array’s type. As a result, the dimension must be known at compile time, which means that the dimension must be a constant<br>expression.</p>
<p>By default, the elements in an array are default initialized.</p>
</blockquote>
<blockquote>
<p>⚠ As with variables of built-in type, a default-initialized array of built-in type that is defined inside a function will have undefined values.</p>
</blockquote>
<blockquote>
<p>We can initialize such arrays from a string literal. When we use this form of initialization, it is important to remember that string literals end with a null character. That null character is copied into the array along with the characters in the literal.</p>
</blockquote>
<blockquote>
<p>We cannot initialize an array as a copy of another array, nor is it legal to assign one array to another.</p>
</blockquote>
<blockquote>
<p>It can be easier to understand array declarations by starting with the array’s name and reading them from the inside out.</p>
</blockquote>
<h4 id="3-5-2-Accessing-the-Elements-of-an-Array"><a href="#3-5-2-Accessing-the-Elements-of-an-Array" class="headerlink" title="3.5.2 Accessing the Elements of an Array"></a>3.5.2 Accessing the Elements of an Array</h4><blockquote>
<p>⚠ The most common source of security problems are buffer overflow bugs. Such bugs occur when a program fails to check a subscript and mistakenly uses memory outside the range of an array or similar data structure.</p>
</blockquote>
<h4 id="3-5-3-Pointers-and-Arrays"><a href="#3-5-3-Pointers-and-Arrays" class="headerlink" title="3.5.3 Pointers and Arrays"></a>3.5.3 Pointers and Arrays</h4><blockquote>
<p>In C++ pointers and arrays are closely intertwined. In particular, as we’ll see, when we use an array, the compiler ordinarily converts the array to a pointer.</p>
<p>In most places when we use an array, the compiler automatically substitutes a pointer to the first element.</p>
</blockquote>
<blockquote>
<p>Just as we can use iterators to traverse the elements in a vector, we can use pointers to traverse the elements in an array. Of course, to do so, we need to obtain pointers to the first and one past the last element.</p>
</blockquote>
<blockquote>
<p>To make it easier and safer to use pointers, the new library includes two functions, named<br>begin and end.</p>
</blockquote>
<blockquote>
<p>The result of subtracting two pointers is a library type named <code>ptrdiff_t</code>. Like<br><code>size_t</code>, the <code>ptrdiff_t</code> type is a machine-specific type and is defined in the<br><code>cstddef</code> header. Because subtraction might yield a negative distance, <code>ptrdiff_t</code> is a signed integral type.</p>
</blockquote>
<blockquote>
<p>We can use the subscript operator on any pointer, as long as that pointer points to an element (or one past the last element) in an array.</p>
</blockquote>
<blockquote>
<p>The index used with the built-in subscript operator can be a negative value. </p>
<p>⚠ Unlike subscripts for vector and string, the index of the built-in subscript operator is not an unsigned type.</p>
</blockquote>
<h4 id="3-5-4-C-Style-Character-Strings"><a href="#3-5-4-C-Style-Character-Strings" class="headerlink" title="3.5.4 C-Style Character Strings"></a>3.5.4 C-Style Character Strings</h4><blockquote>
<p>⚠ Although C++ supports C-style strings, they should not be used by C++ programs. C-style strings are a surprisingly rich source of bugs and are the root cause of many security problems. They’re also harder to use!</p>
</blockquote>
<h4 id="3-5-5-Interfacing-to-Older-Code"><a href="#3-5-5-Interfacing-to-Older-Code" class="headerlink" title="3.5.5 Interfacing to Older Code"></a>3.5.5 Interfacing to Older Code</h4><blockquote>
<p>More generally, we can use a null-terminated character array anywhere that we can use a string literal.</p>
</blockquote>
<blockquote>
<p>If a program needs continuing access to the contents of the array returned by <code>c_str</code>(), the program must copy the array returned by <code>c_str</code>.</p>
</blockquote>
<blockquote>
<p>Modern C++ programs should use <code>vector</code>s and iterators instead of built-in arrays and pointers, and use strings rather than C-style array-based character strings.</p>
</blockquote>
<h3 id="3-6-Multidimensional-Array"><a href="#3-6-Multidimensional-Array" class="headerlink" title="3.6 Multidimensional Array"></a>3.6 Multidimensional Array</h3><blockquote>
<p>Strictly speaking, there are no multidimensional arrays in C++. What are commonly referred to as multidimensional arrays are actually arrays of arrays.</p>
</blockquote>
<blockquote>
<p>As we saw in § 3.5.1 (p. 115), we can more easily understand these definitions by reading them from the inside out.</p>
</blockquote>
<blockquote>
<p>⚠ To use a multidimensional array in a range for, the loop control variable for all but the innermost array must be references.</p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/09/12/InversifyJS/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="rockham">
      <meta itemprop="description" content="没有无用的知识。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Introspection">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/09/12/InversifyJS/" class="post-title-link" itemprop="url">Dive into InversifyJS</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-09-12 23:53:23" itemprop="dateCreated datePublished" datetime="2020-09-12T23:53:23+00:00">2020-09-12</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-09-16 13:39:52" itemprop="dateModified" datetime="2020-09-16T13:39:52+00:00">2020-09-16</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><a href="http://inversify.io/" target="_blank" rel="noopener">InversifyJS</a></p>
<p>&lt;Inversify的目的&gt;</p>
<h2 id="Brief-Introduction-about-Decorator"><a href="#Brief-Introduction-about-Decorator" class="headerlink" title="Brief Introduction about Decorator"></a>Brief Introduction about Decorator</h2><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="keyword">declare</span> <span class="keyword">type</span> ClassDecorator = &lt;TFunction <span class="keyword">extends</span> <span class="built_in">Function</span>&gt;<span class="function">(<span class="params">target: TFunction</span>) =&gt;</span> TFunction | <span class="built_in">void</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">declare</span> <span class="keyword">type</span> PropertyDecorator = <span class="function">(<span class="params">target: <span class="built_in">Object</span>, propertyKey: <span class="built_in">string</span> | symbol</span>) =&gt;</span> <span class="built_in">void</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">declare</span> <span class="keyword">type</span> MethodDecorator = &lt;T&gt;<span class="function">(<span class="params">target: <span class="built_in">Object</span>, propertyKey: <span class="built_in">string</span> | symbol, descriptor: TypedPropertyDescriptor&lt;T&gt;</span>) =&gt;</span> TypedPropertyDescriptor&lt;T&gt; | <span class="built_in">void</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">declare</span> <span class="keyword">type</span> ParameterDecorator = <span class="function">(<span class="params">target: <span class="built_in">Object</span>, propertyKey: <span class="built_in">string</span> | symbol, parameterIndex: <span class="built_in">number</span></span>) =&gt;</span> <span class="built_in">void</span>;</span><br></pre></td></tr></table></figure>

<h2 id="Using-InversifyJS"><a href="#Using-InversifyJS" class="headerlink" title="Using InversifyJS"></a>Using InversifyJS</h2><ol>
<li>Declare interface</li>
</ol>
<blockquote>
<p>Our goal is to write code that adheres to the <a href="https://en.wikipedia.org/wiki/Dependency_inversion_principle" target="_blank" rel="noopener">dependency inversion principle</a>. This means that we should “depend upon Abstractions and do not depend upon concretions”. Let’s start by declaring some interfaces (abstractions).</p>
</blockquote>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Warrior &#123;</span><br><span class="line">    fight(): <span class="built_in">string</span>;</span><br><span class="line">    sneak(): <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> Weapon &#123;</span><br><span class="line">    hit(): <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> ThrowableWeapon &#123;</span><br><span class="line">    <span class="keyword">throw</span>(): <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>InversifyJS need to use the type as identifiers at runtime. We use symbols as identifiers but you can also use classes and or string literals.</p>
</blockquote>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> TYPES = &#123;</span><br><span class="line">    Warrior: Symbol(<span class="string">"Warrior"</span>),</span><br><span class="line">    Weapon: Symbol(<span class="string">"Weapon"</span>),</span><br><span class="line">    ThrowableWeapon: Symbol(<span class="string">"ThrowableWeapon"</span>)</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> TYPES;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>Declaring classes and dependencies</li>
</ol>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; injectable, inject &#125; <span class="keyword">from</span> <span class="string">"inversify"</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">"reflect-metadata"</span>;</span><br><span class="line"><span class="keyword">import</span> TYPES <span class="keyword">from</span> <span class="string">"./types"</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@injectable</span>()</span><br><span class="line"><span class="keyword">class</span> Katana <span class="keyword">implements</span> Weapon &#123;</span><br><span class="line">    <span class="keyword">public</span> hit() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"cut!"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@injectable</span>()</span><br><span class="line"><span class="keyword">class</span> Shuriken <span class="keyword">implements</span> ThrowableWeapon &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">throw</span>() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"hit!"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@injectable</span>()</span><br><span class="line"><span class="keyword">class</span> Ninja <span class="keyword">implements</span> Warrior &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> _katana: Weapon;</span><br><span class="line">    <span class="keyword">private</span> _shuriken: ThrowableWeapon;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">constructor</span>(<span class="params"></span></span><br><span class="line"><span class="params">        <span class="meta">@inject</span>(TYPES.Weapon) katana: Weapon,</span></span><br><span class="line"><span class="params">        <span class="meta">@inject</span>(TYPES.ThrowableWeapon) shuriken: ThrowableWeapon</span></span><br><span class="line"><span class="params">    </span>) &#123;</span><br><span class="line">        <span class="keyword">this</span>._katana = katana;</span><br><span class="line">        <span class="keyword">this</span>._shuriken = shuriken;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> fight() &#123; <span class="keyword">return</span> <span class="keyword">this</span>._katana.hit(); &#125;;</span><br><span class="line">    <span class="keyword">public</span> sneak() &#123; <span class="keyword">return</span> <span class="keyword">this</span>._shuriken.throw(); &#125;;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> &#123; Ninja, Katana, Shuriken &#125;;</span><br></pre></td></tr></table></figure>





<h2 id="What-happend"><a href="#What-happend" class="headerlink" title="What happend?"></a>What happend?</h2><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">injectable</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">target: <span class="built_in">any</span></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (Reflect.hasOwnMetadata(METADATA_KEY.PARAM_TYPES, target)) &#123;</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(ERRORS_MSGS.DUPLICATED_INJECTABLE_DECORATOR);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> types = Reflect.getMetadata(METADATA_KEY.DESIGN_PARAM_TYPES, target) || [];</span><br><span class="line">    Reflect.defineMetadata(METADATA_KEY.PARAM_TYPES, types, target);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> target;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>injectable是一个装饰器工厂，从返回的装饰器可以看出这是一个类装饰器。 </p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">inject</span>(<span class="params">serviceIdentifier: ServiceIdentifierOrFunc</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">target: <span class="built_in">any</span>, targetKey: <span class="built_in">string</span>, index?: <span class="built_in">number</span></span>): <span class="title">void</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (serviceIdentifier === <span class="literal">undefined</span>) &#123;</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(UNDEFINED_INJECT_ANNOTATION(target.name));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> metadata = <span class="keyword">new</span> Metadata(METADATA_KEY.INJECT_TAG, serviceIdentifier);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> index === <span class="string">"number"</span>) &#123;</span><br><span class="line">      tagParameter(target, targetKey, index, metadata);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      tagProperty(target, targetKey, metadata);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> x &#123;</span><br><span class="line">    anotationTargetObject: &#123;</span><br><span class="line">        propertyName: &#123;</span><br><span class="line">            metadataKey: &#123;</span><br><span class="line">                metadata: &#123;</span><br><span class="line">                    <span class="comment">// inversifyJS</span></span><br><span class="line">                    [METADATA_KEY: <span class="built_in">string</span>]: Metadata[];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// metadata keys of inversify</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">enum</span> METADATA_KEY &#123;</span><br><span class="line">    <span class="comment">// used to store types to be injected</span></span><br><span class="line">    PARAM_TYPES = <span class="string">"inversify:paramtypes"</span>,</span><br><span class="line">    <span class="comment">// used to access design time types</span></span><br><span class="line">    DESIGN_PARAM_TYPES = <span class="string">"design:paramtypes"</span>,</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// The type of the binding at design time</span></span><br><span class="line">    INJECT_TAG = <span class="string">"inject"</span>,</span><br><span class="line">    <span class="comment">// used to store constructor arguments tags</span></span><br><span class="line">    TAGGED = <span class="string">"inversify:tagged"</span>,</span><br><span class="line">    <span class="comment">// used to store class properties tags</span></span><br><span class="line">    TAGGED_PROP = <span class="string">"inversify:tagged_props"</span>,</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> Metadata &#123;</span><br><span class="line">    key: <span class="built_in">string</span> | <span class="built_in">number</span> | symbol;</span><br><span class="line">    value: <span class="built_in">any</span>;</span><br><span class="line">    toString(): <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> propertyName = <span class="built_in">string</span> | symbol | <span class="literal">undefined</span>;</span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">@inject(serviceIdentifier) </span><br><span class="line">          ||</span><br><span class="line">          \&#x2F;</span><br><span class="line">&#123;</span><br><span class="line">  key: METADATA_KEY.INJECT_TAG,</span><br><span class="line">  value: serviceIdentifier,</span><br><span class="line">&#125;: Metadata</span><br></pre></td></tr></table></figure>



<blockquote>
<p>If you prefer it you can use property injection instead of constructor injection so you don’t have to declare the class constructor:</p>
</blockquote>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@injectable</span>()</span><br><span class="line"><span class="keyword">class</span> Ninja <span class="keyword">implements</span> Warrior &#123;</span><br><span class="line">    <span class="meta">@inject</span>(TYPES.Weapon) <span class="keyword">private</span> _katana: Weapon;</span><br><span class="line">    <span class="meta">@inject</span>(TYPES.ThrowableWeapon) <span class="keyword">private</span> _shuriken: ThrowableWeapon;</span><br><span class="line">    <span class="keyword">public</span> fight() &#123; <span class="keyword">return</span> <span class="keyword">this</span>._katana.hit(); &#125;;</span><br><span class="line">    <span class="keyword">public</span> sneak() &#123; <span class="keyword">return</span> <span class="keyword">this</span>._shuriken.throw(); &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>Creating and configuring a Container</li>
</ol>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Container &#125; <span class="keyword">from</span> <span class="string">"inversify"</span>;</span><br><span class="line"><span class="keyword">import</span> TYPES <span class="keyword">from</span> <span class="string">"./types"</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; Ninja, Katana, Shuriken &#125; <span class="keyword">from</span> <span class="string">"./entities"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> container = <span class="keyword">new</span> Container();</span><br><span class="line">container.bind&lt;Warrior&gt;(TYPES.Warrior).to(Ninja);</span><br><span class="line">container.bind&lt;Weapon&gt;(TYPES.Weapon).to(Katana);</span><br><span class="line">container.bind&lt;ThrowableWeapon&gt;(TYPES.ThrowableWeapon).to(Shuriken);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> container;</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>Resolving dependencies</li>
</ol>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> container = <span class="keyword">from</span> <span class="string">"./inversify.config"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ninja = container.get&lt;Warrior&gt;(TYPES.Warrior);</span><br><span class="line"></span><br><span class="line">expect(ninja.fight()).eql(<span class="string">"cut!"</span>); <span class="comment">// true</span></span><br><span class="line">expect(ninja.sneak()).eql(<span class="string">"hit!"</span>); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/09/11/TypeScript-Tough-Spots/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="rockham">
      <meta itemprop="description" content="没有无用的知识。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Introspection">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/09/11/TypeScript-Tough-Spots/" class="post-title-link" itemprop="url">TypeScript Tough Spots</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-09-11 10:50:37" itemprop="dateCreated datePublished" datetime="2020-09-11T10:50:37+00:00">2020-09-11</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-09-16 13:39:52" itemprop="dateModified" datetime="2020-09-16T13:39:52+00:00">2020-09-16</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="Type-Alias-vs-Interface"><a href="#Type-Alias-vs-Interface" class="headerlink" title="Type Alias vs. Interface"></a>Type Alias vs. Interface</h3><h2 id="Decorator"><a href="#Decorator" class="headerlink" title="Decorator"></a>Decorator</h2><p><a href="https://www.typescriptlang.org/docs/handbook/decorators.html" target="_blank" rel="noopener">https://www.typescriptlang.org/docs/handbook/decorators.html</a></p>
<p>装饰器可以用来观察，修改，替换一个类，成员方法，Accessor（getter和setter），成员属性，形参的定义。</p>
<p>装饰器不能用在声明文件或任何其他环境上下文（如在一个declare class内 </p>
<p>Evaluation</p>
<blockquote>
<p>There is a well defined order to how decorators applied to various declarations inside of a class are applied:</p>
<ol>
<li><em>Parameter Decorators</em>, followed by <em>Method</em>, <em>Accessor</em>, or <em>Property Decorators</em> are applied for each instance member.</li>
<li><em>Parameter Decorators</em>, followed by <em>Method</em>, <em>Accessor</em>, or <em>Property Decorators</em> are applied for each static member.</li>
<li><em>Parameter Decorators</em> are applied for the constructor.</li>
<li><em>Class Decorators</em> are applied for the class.</li>
</ol>
</blockquote>
<h4 id="Class-Decorators"><a href="#Class-Decorators" class="headerlink" title="Class Decorators"></a>Class Decorators</h4><h4 id="Method-Decorators"><a href="#Method-Decorators" class="headerlink" title="Method Decorators"></a>Method Decorators</h4><p>签名：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> accessorDecorator &#123;</span><br><span class="line">  target: <span class="built_in">Object</span>;</span><br><span class="line">  propertyKey: <span class="built_in">string</span> | symbol;</span><br><span class="line">  descriptor: PropertyDescriptor;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如果有，装饰器的返回值将会成为该成员的<em>Property Descriptor</em></p>
<p>注意：如果编译<em>target</em>低于<em>ES5</em>，<em>Property Descriptor</em>会等于<code>undefined</code></p>
<h4 id="Accessor-Decorators"><a href="#Accessor-Decorators" class="headerlink" title="Accessor Decorators"></a>Accessor Decorators</h4><blockquote>
<p>NOTE  TypeScript disallows decorating both the <code>get</code> and <code>set</code> accessor for a single member. Instead, all decorators for the member must be applied to the first accessor specified in document order. This is because decorators apply to a <em>Property Descriptor</em>, which combines both the <code>get</code> and <code>set</code> accessor, not each declaration separately.</p>
</blockquote>
<p>Accessor decorator的签名为：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> accessorDecorator &#123;</span><br><span class="line">  target: <span class="built_in">Object</span>;</span><br><span class="line">  propertyKey: <span class="built_in">string</span> | symbol;</span><br><span class="line">  descriptor: PropertyDescriptor;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如果有，装饰器的返回值将会成为该成员的<em>Property Descriptor</em></p>
<p>注意：如果编译<em>target</em>低于<em>ES5</em>，<em>Property Descriptor</em>会等于<code>undefined</code></p>
<h4 id="Property-Decorators"><a href="#Property-Decorators" class="headerlink" title="Property Decorators"></a>Property Decorators</h4><p>签名：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> propertyDecorator &#123;</span><br><span class="line">  target: <span class="built_in">Object</span>;</span><br><span class="line">  propertyKey: <span class="built_in">string</span> | symbol;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>NOTE  A <em>Property Descriptor</em> is not provided as an argument to a property decorator due to how property decorators are initialized in TypeScript. This is because there is currently no mechanism to describe an instance property when defining members of a prototype, and no way to observe or modify the initializer for a property. The return value is ignored too. As such, a property decorator can only be used to observe that a property of a specific name has been declared for a class.</p>
</blockquote>
<h4 id="Parameter-Decorators"><a href="#Parameter-Decorators" class="headerlink" title="Parameter Decorators"></a>Parameter Decorators</h4><p>签名：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> parameterDecorator &#123;</span><br><span class="line">    target: <span class="built_in">Object</span>;</span><br><span class="line">    propertyKey: <span class="built_in">string</span> | symbol;</span><br><span class="line">    parameterIndex: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>The return value of the parameter decorator is ignored.</p>
<h3 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h3><p>关于<em>Property Descriptor</em></p>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty" target="_blank" rel="noopener">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty</a></p>
<p>Playground</p>
<p><a href="https://www.typescriptlang.org/play?target=1#code/FAYwNghgzlAEAKB7AlgOwC6wN7FrAHgFyyoCuAtgEYCmATgNy6wCexZVdjAvsKJDLAAyaatiYAHWsgBuEdKID64gAzEkadIzySZcxeICMalBkZMAArLDIAJnqZRqmFQAorpasY0BKMXjzoABbIUAB0SsqwALyw7tRasDx4AOZOsK6+OP6wtE6ktKiwQSHhKgk8Fla29niOzgZuEGAeXhiZTAHBYUoG0bFNHuVMqfUu7dm56PmFxd2GQxUAZqSoIOjIiIVVdvIAPAAqAHwuTOgQtCPEEKjMADQStIjidOjMANLUrLBQ6FKoyfc8DZqFAQFJxOhELRiPtmM8bPBHs9aK8ACIgsHICFQg6HYDjWBgNJ1PrA0HgyG0UJ1BJkzHYqkkmLLVbrTawRrNTywfYEvBEzCvZ59ABK1EWRLWoRGAFknBAdhAXAAiMnIZKoQhC6jK25Fc4jPWSJ4vd6fbwJPDIRYcgCEnI8sDQP2uIGoiBt2u8fP8QUeAHcSNRA7DngBRWiPWgqgCSqG2RTh1FCyotHUS6bqoRATTALjOFyceriabwXG4QA">https://www.typescriptlang.org/play?target=1#code/FAYwNghgzlAEAKB7AlgOwC6wN7FrAHgFyyoCuAtgEYCmATgNy6wCexZVdjAvsKJDLAAyaatiYAHWsgBuEdKID64gAzEkadIzySZcxeICMalBkZMAArLDIAJnqZRqmFQAorpasY0BKMXjzoABbIUAB0SsqwALyw7tRasDx4AOZOsK6+OP6wtE6ktKiwQSHhKgk8Fla29niOzgZuEGAeXhiZTAHBYUoG0bFNHuVMqfUu7dm56PmFxd2GQxUAZqSoIOjIiIVVdvIAPAAqAHwuTOgQtCPEEKjMADQStIjidOjMANLUrLBQ6FKoyfc8DZqFAQFJxOhELRiPtmM8bPBHs9aK8ACIgsHICFQg6HYDjWBgNJ1PrA0HgyG0UJ1BJkzHYqkkmLLVbrTawRrNTywfYEvBEzCvZ59ABK1EWRLWoRGAFknBAdhAXAAiMnIZKoQhC6jK25Fc4jPWSJ4vd6fbwJPDIRYcgCEnI8sDQP2uIGoiBt2u8fP8QUeAHcSNRA7DngBRWiPWgqgCSqG2RTh1FCyotHUS6bqoRATTALjOFyceriabwXG4QA</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/08/18/SVG/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="rockham">
      <meta itemprop="description" content="没有无用的知识。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Introspection">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/08/18/SVG/" class="post-title-link" itemprop="url">SVG</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-08-18 19:09:33" itemprop="dateCreated datePublished" datetime="2020-08-18T19:09:33+00:00">2020-08-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-09-16 13:39:52" itemprop="dateModified" datetime="2020-09-16T13:39:52+00:00">2020-09-16</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="Everything-You-Need-To-Know-About-SVG"><a href="#Everything-You-Need-To-Know-About-SVG" class="headerlink" title="Everything You Need To Know About SVG"></a>Everything You Need To Know About SVG</h2><p><a href="https://css-tricks.com/lodge/svg/01-intro-course/" target="_blank" rel="noopener">https://css-tricks.com/lodge/svg/01-intro-course/</a></p>
<h3 id="使用SVG"><a href="#使用SVG" class="headerlink" title="使用SVG"></a>使用SVG</h3><ul>
<li><code>&lt;img src=&#39;x.svg&#39; /&gt;</code> or <code>&lt;img src=&#39;dataURL&#39; /&gt;</code> </li>
<li>CSS background-image property</li>
<li>Inline SVG <code>&lt;svg&gt;...&lt;/svg&gt;</code></li>
<li>Iframe/object/<del>embed</del></li>
</ul>
<h3 id="获得"><a href="#获得" class="headerlink" title="获得"></a>获得</h3><p><a href="https://css-tricks.com/lodge/svg/10-getting-svg-stock-photography-sites/" target="_blank" rel="noopener">https://css-tricks.com/lodge/svg/10-getting-svg-stock-photography-sites/</a></p>
<h3 id="实验"><a href="#实验" class="headerlink" title="实验"></a>实验</h3><p><a href="https://codepen.io/Rockham/pen/yLOaXEB" target="_blank" rel="noopener">https://codepen.io/Rockham/pen/yLOaXEB</a></p>
<h3 id="工具"><a href="#工具" class="headerlink" title="工具"></a>工具</h3><p><a href="https://www.freeformatter.com/xml-formatter.html" target="_blank" rel="noopener">https://www.freeformatter.com/xml-formatter.html</a></p>
<p><a href="https://pdfmall.com/xml-to-svg" target="_blank" rel="noopener">https://pdfmall.com/xml-to-svg</a></p>
<p><a href="https://base64.guru/converter/decode/image" target="_blank" rel="noopener">https://base64.guru/converter/decode/image</a></p>
<p><a href="https://jakearchibald.github.io/svgomg/" target="_blank" rel="noopener">https://jakearchibald.github.io/svgomg/</a></p>
<h3 id="Data-URLs"><a href="#Data-URLs" class="headerlink" title="Data URLs"></a>Data URLs</h3><p><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/Data_URIs" target="_blank" rel="noopener">https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/Data_URIs</a></p>
<h4 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data:[&lt;mediatype&gt;][;base64],&lt;data&gt;</span><br></pre></td></tr></table></figure>

<p>Data URLs是由data:开头的，随后跟上MIME类型、;base64标识与数据组成的。</p>
<p>默认值为text/plain;charset=US-ASCII。</p>
<p>举几个例子🌰：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data:,Hello%2C%20World!</span><br></pre></td></tr></table></figure>

<p>文本类型，ASCII编码的数据。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data:text&#x2F;plain;base64,SGVsbG8sIFdvcmxkIQ&#x3D;&#x3D;</span><br></pre></td></tr></table></figure>

<p>上面的base64编码版本</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data:image&#x2F;png;base64,ln8A2f4MRWX71NIAAAAASUVORK5CYII&#x3D;</span><br></pre></td></tr></table></figure>

<p>PNG类型，base64编码的图片</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data:image&#x2F;svg+xml;base64,ln8A2f4MRWX71NIAAAAASUVORK5CYII&#x3D;</span><br></pre></td></tr></table></figure>

<p>SVG类型，base64编码的图片</p>
<h4 id="SVG"><a href="#SVG" class="headerlink" title="SVG"></a>SVG</h4><p><a href="https://codepen.io/Rockham/pen/yLOaXEB" target="_blank" rel="noopener">https://codepen.io/Rockham/pen/yLOaXEB</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/08/18/Encode-Decode/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="rockham">
      <meta itemprop="description" content="没有无用的知识。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Introspection">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/08/18/Encode-Decode/" class="post-title-link" itemprop="url">Encode & Decode</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-08-18 19:03:46" itemprop="dateCreated datePublished" datetime="2020-08-18T19:03:46+00:00">2020-08-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-09-16 13:39:52" itemprop="dateModified" datetime="2020-09-16T13:39:52+00:00">2020-09-16</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="编码"><a href="#编码" class="headerlink" title="编码"></a>编码</h3><h4 id="BASE64"><a href="#BASE64" class="headerlink" title="BASE64"></a>BASE64</h4><p>使用的字符包括大小写<a href="https://zh.wikipedia.org/wiki/拉丁字母" target="_blank" rel="noopener">拉丁字母</a>各26个、数字10个、加号<code>+</code>和斜杠<code>/</code>，共<strong>64</strong>个字符，等号<code>=</code>用来作为后缀用途。<a href="https://zh.wikipedia.org/wiki/Base64" target="_blank" rel="noopener">https://zh.wikipedia.org/wiki/Base64</a></p>
<h4 id="ASCII"><a href="#ASCII" class="headerlink" title="ASCII"></a>ASCII</h4><p><a href="https://zh.wikipedia.org/wiki/ASCII" target="_blank" rel="noopener">https://zh.wikipedia.org/wiki/ASCII</a></p>
<p>至今为止共定义了<strong>128</strong>个字符</p>
<h4 id="Latin1"><a href="#Latin1" class="headerlink" title="Latin1"></a>Latin1</h4><p><a href="https://zh.wikipedia.org/wiki/ISO/IEC_8859-1" target="_blank" rel="noopener">https://zh.wikipedia.org/wiki/ISO/IEC_8859-1</a></p>
<blockquote>
<p><strong>ISO 8859-1</strong>，正式编号为<strong>ISO/IEC 8859-1:1998</strong>，又称<strong>Latin-1</strong>或“<a href="https://zh.wikipedia.org/wiki/西欧" target="_blank" rel="noopener">西欧</a>语言”，是<a href="https://zh.wikipedia.org/wiki/國際標準化組織" target="_blank" rel="noopener">国际标准化组织</a>内<a href="https://zh.wikipedia.org/wiki/ISO/IEC_8859" target="_blank" rel="noopener">ISO/IEC 8859</a>的第一个8位<a href="https://zh.wikipedia.org/wiki/字符集" target="_blank" rel="noopener">字符集</a>。它以<a href="https://zh.wikipedia.org/wiki/ASCII" target="_blank" rel="noopener">ASCII</a>为基础，在空置的0xA0-0xFF的范围内，加入96个<a href="https://zh.wikipedia.org/wiki/字母" target="_blank" rel="noopener">字母</a>及<a href="https://zh.wikipedia.org/wiki/符号" target="_blank" rel="noopener">符号</a>，藉以供使用<a href="https://zh.wikipedia.org/wiki/附加符号" target="_blank" rel="noopener">附加符号</a>的<a href="https://zh.wikipedia.org/wiki/拉丁字母" target="_blank" rel="noopener">拉丁字母</a>语言使用。</p>
</blockquote>
<p><strong>256</strong>个字符</p>
<h4 id="Unicode"><a href="#Unicode" class="headerlink" title="Unicode"></a>Unicode</h4><p><a href="https://zh.wikipedia.org/wiki/Unicode" target="_blank" rel="noopener">https://zh.wikipedia.org/wiki/Unicode</a></p>
<h3 id="关系"><a href="#关系" class="headerlink" title="关系"></a>关系</h3><p>Latin1与Unicode的前256位对应</p>
<h3 id="编码方式"><a href="#编码方式" class="headerlink" title="编码方式"></a>编码方式</h3><p>UTF-8</p>
<p><a href="https://developer.mozilla.org/en-US/docs/Glossary/Base64" target="_blank" rel="noopener">https://developer.mozilla.org/en-US/docs/Glossary/Base64</a></p>
<p><a href="https://en.wikipedia.org/wiki/MIME#Content-Transfer-Encoding" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/MIME#Content-Transfer-Encoding</a></p>
<h4 id="Javascript-APIs"><a href="#Javascript-APIs" class="headerlink" title="Javascript APIs"></a>Javascript APIs</h4><p><a href="https://www.jianshu.com/p/b2c6dc5fad0a" target="_blank" rel="noopener">https://www.jianshu.com/p/b2c6dc5fad0a</a></p>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent" target="_blank" rel="noopener">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent</a></p>
<p>javascript字符串以UTF-16编码</p>
<h4 id="btoa"><a href="#btoa" class="headerlink" title="btoa"></a><a href="https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/btoa" target="_blank" rel="noopener">btoa</a></h4><p>btoa接收一个<a href="https://developer.mozilla.org/en-US/docs/Web/API/DOMString/Binary" target="_blank" rel="noopener">binary string</a>类型的参数</p>
<p>所以，</p>
<blockquote>
<p>invoking it on a string that contains codepoints greater than <code>255</code> will cause a <code>Character Out Of Range</code> error</p>
</blockquote>
<p>btoa只能处理一个字节大小的字符，可用以下方法转换：</p>
<p><a href="https://stackoverflow.com/questions/23223718/failed-to-execute-btoa-on-window-the-string-to-be-encoded-contains-characte" target="_blank" rel="noopener">https://stackoverflow.com/questions/23223718/failed-to-execute-btoa-on-window-the-string-to-be-encoded-contains-characte</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/08/05/Phabricator-workflow/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="rockham">
      <meta itemprop="description" content="没有无用的知识。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Introspection">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/08/05/Phabricator-workflow/" class="post-title-link" itemprop="url">Phabricator workflow</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-08-05 15:35:28" itemprop="dateCreated datePublished" datetime="2020-08-05T15:35:28+00:00">2020-08-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-09-16 13:39:52" itemprop="dateModified" datetime="2020-09-16T13:39:52+00:00">2020-09-16</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>Altered from this gist: <a href="https://gist.github.com/sekimura/6367366" target="_blank" rel="noopener">https://gist.github.com/sekimura/6367366</a></p>
<ul>
<li><p>create tasks <code>T{NNNN}</code> assign them</p>
</li>
<li><p>create and switch to a branch <code>git checkout -b &lt;branch name&gt;</code></p>
</li>
<li><p>make some changes and commit until it gets ready to be reviewed</p>
<p><code>git commit -am &#39;comment here&#39;</code></p>
</li>
<li><p>check if it’s lint free (NOTE: it runs lint against only modified files)</p>
<p><code>arc lint</code></p>
</li>
<li><p>push a review request to the server. This will create a diff with id <code>D{NNNN}</code></p>
<p><code>arc diff [remote branch name] [--draft]</code></p>
</li>
<li><p>As a reviewer, you can apply the change set on your local by using <code>arc patch D{NNNN}</code></p>
<p><code>arc patch D5678</code></p>
</li>
<li><p>if reviewers post a comment and you need to update the change set, commit more changes on that branch</p>
<p><code>git commit -am &#39;update&#39;</code></p>
</li>
<li><p>and push updated change set to the server</p>
<p><code>arc diff --update D5678</code></p>
</li>
<li><p>To check status of review requests which you have posted, run <code>arc list</code> which will give you a list of Status, Diff ID and title</p>
<p><code>arc list</code></p>
</li>
<li><p>Once review request got accepted, merge changes to a remote branch. <code>arc land</code> command will take care of merging/rebasing branch and deleting your working branch… And pushing changes to origin/master.</p>
<p><code>arc land [--onto &lt;remote branch name&gt;]</code></p>
</li>
<li><p>viola!</p>
</li>
</ul>
<h3 id="More"><a href="#More" class="headerlink" title="More"></a>More</h3><p><a href="https://secure.phabricator.com/book/phabricator/article/arcanist_diff/" target="_blank" rel="noopener">https://secure.phabricator.com/book/phabricator/article/arcanist_diff/</a></p>
<p><a href="https://secure.phabricator.com/T13547" target="_blank" rel="noopener">https://secure.phabricator.com/T13547</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/07/26/%E5%90%84%E4%B8%AAUnix%E7%B3%BB%E7%BB%9F%E4%BB%93%E5%BA%93%E5%9B%BD%E5%86%85%E6%BA%90/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="rockham">
      <meta itemprop="description" content="没有无用的知识。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Introspection">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/07/26/%E5%90%84%E4%B8%AAUnix%E7%B3%BB%E7%BB%9F%E4%BB%93%E5%BA%93%E5%9B%BD%E5%86%85%E6%BA%90/" class="post-title-link" itemprop="url">各个Unix系统仓库国内源</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-07-26 15:51:12" itemprop="dateCreated datePublished" datetime="2020-07-26T15:51:12+00:00">2020-07-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-09-16 13:39:52" itemprop="dateModified" datetime="2020-09-16T13:39:52+00:00">2020-09-16</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="国内源主页"><a href="#国内源主页" class="headerlink" title="国内源主页"></a>国内源主页</h2><p><a href="https://mirrors.tuna.tsinghua.edu.cn/" target="_blank" rel="noopener">https://mirrors.tuna.tsinghua.edu.cn/</a></p>
<h2 id="Debian"><a href="#Debian" class="headerlink" title="Debian"></a>Debian</h2><p>介绍</p>
<p><a href="https://wiki.debian.org/SourcesList" target="_blank" rel="noopener">https://wiki.debian.org/SourcesList</a></p>
<p><a href="https://manpages.debian.org/buster/apt/sources.list.5.en.html" target="_blank" rel="noopener">https://manpages.debian.org/buster/apt/sources.list.5.en.html</a></p>
<p>Debian 全球镜像站</p>
<p><a href="https://www.debian.org/mirror/list" target="_blank" rel="noopener">https://www.debian.org/mirror/list</a></p>
<h3 id="如何选择最快的镜像站"><a href="#如何选择最快的镜像站" class="headerlink" title="如何选择最快的镜像站"></a>如何选择最快的镜像站</h3><p><a href="https://linuxconfig.org/how-to-select-the-fastest-apt-mirror-on-ubuntu-linux" target="_blank" rel="noopener">https://linuxconfig.org/how-to-select-the-fastest-apt-mirror-on-ubuntu-linux</a></p>
<p>Debian netselect</p>
<p><a href="https://github.com/apenwarr/netselect" target="_blank" rel="noopener">https://github.com/apenwarr/netselect</a></p>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">netselect determines several facts about all of the hosts given on the</span><br><span class="line">command line, much faster you would if you manually tried to use ping and</span><br><span class="line">traceroute. </span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netselect -vv mirrors.tuna.tsinghua.edu.cn mirrors.ustc.edu.cn mirrors.aliyun.com mirrors.163.com</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netselect -vv https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ https://mirrors.ustc.edu.cn/ubuntu/ http://mirrors.aliyun.com/ubuntu/ http://mirrors.163.com/ubuntu/</span><br></pre></td></tr></table></figure>



<h2 id="Ubuntu"><a href="#Ubuntu" class="headerlink" title="Ubuntu"></a>Ubuntu</h2><h3 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h3><p><a href="https://www.jianshu.com/p/126d51514097" target="_blank" rel="noopener">https://www.jianshu.com/p/126d51514097</a></p>
<p><a href="https://zhuanlan.zhihu.com/p/61228593" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/61228593</a></p>
<h3 id="Ubuntu国内仓库源"><a href="#Ubuntu国内仓库源" class="headerlink" title="Ubuntu国内仓库源"></a>Ubuntu国内仓库源</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 清华源</span><br><span class="line">https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;ubuntu&#x2F;</span><br><span class="line"># 中科大源</span><br><span class="line">https:&#x2F;&#x2F;mirrors.ustc.edu.cn&#x2F;ubuntu&#x2F;</span><br><span class="line"># 阿里源</span><br><span class="line">http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F;</span><br><span class="line"># 163源</span><br><span class="line">http:&#x2F;&#x2F;mirrors.163.com&#x2F;ubuntu&#x2F;</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/06/30/Design-principles-and-patterns/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="rockham">
      <meta itemprop="description" content="没有无用的知识。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Introspection">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/06/30/Design-principles-and-patterns/" class="post-title-link" itemprop="url">设计模式与原则</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-06-30 22:24:46" itemprop="dateCreated datePublished" datetime="2020-06-30T22:24:46+00:00">2020-06-30</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-09-16 13:39:52" itemprop="dateModified" datetime="2020-09-16T13:39:52+00:00">2020-09-16</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="通用原则"><a href="#通用原则" class="headerlink" title="通用原则"></a>通用原则</h2><p><a href="https://en.wikipedia.org/wiki/Single_source_of_truth" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/Single_source_of_truth</a></p>
<p><a href="https://en.wikipedia.org/wiki/Separation_of_concerns" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/Separation_of_concerns</a></p>
<p>模组化</p>
<p><a href="https://en.wikipedia.org/wiki/Modularity_(programming)" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/Modularity_(programming)</a></p>
<p><a href="https://en.wikipedia.org/wiki/Abstraction_principle_(computer_programming)" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/Abstraction_principle_(computer_programming)</a></p>
<p>DRY vs WET</p>
<p><a href="https://en.wikipedia.org/wiki/Don%27t_repeat_yourself" target="_blank" rel="noopener">DRY</a></p>
<p>High cohesion, Low coupling</p>
<p><a href="https://en.wikipedia.org/wiki/Coupling_(computer_programming)" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/Coupling_(computer_programming)</a></p>
<h2 id="Programming-Paradigms"><a href="#Programming-Paradigms" class="headerlink" title="Programming Paradigms"></a><a href="https://en.wikipedia.org/wiki/Programming_paradigm" target="_blank" rel="noopener">Programming Paradigms</a></h2><h3 id="Imperative-Programming"><a href="#Imperative-Programming" class="headerlink" title="Imperative Programming"></a>Imperative Programming</h3><h3 id="Object-Oriented-Programming-OOP"><a href="#Object-Oriented-Programming-OOP" class="headerlink" title="Object-Oriented Programming - OOP"></a><a href="https://en.wikipedia.org/wiki/Object-oriented_programming" target="_blank" rel="noopener">Object-Oriented Programming - OOP</a></h3><h4 id="Encapsulation"><a href="#Encapsulation" class="headerlink" title="Encapsulation"></a><a href="https://en.wikipedia.org/wiki/Encapsulation_(computer_programming)" target="_blank" rel="noopener">Encapsulation</a></h4><p><a href="https://lostechies.com/derickbailey/2011/03/28/encapsulation-youre-doing-it-wrong/" target="_blank" rel="noopener">https://lostechies.com/derickbailey/2011/03/28/encapsulation-youre-doing-it-wrong/</a></p>
<h4 id="Inheritance"><a href="#Inheritance" class="headerlink" title="Inheritance"></a><a href="https://en.wikipedia.org/wiki/Inheritance_(object-oriented_programming)" target="_blank" rel="noopener">Inheritance</a></h4><p><a href="https://medium.com/hackernoon/inheritance-based-on-internal-structure-is-evil-7474cc8e64dc" target="_blank" rel="noopener">Implementation Inheritance Is Evil</a></p>
<h4 id="Polymophism"><a href="#Polymophism" class="headerlink" title="Polymophism"></a>Polymophism</h4><p><a href="https://en.wikipedia.org/wiki/Polymorphism_(computer_science)" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/Polymorphism_(computer_science)</a></p>
<ul>
<li>Ad hoc Polymorphism(function overloading, operator overloading)</li>
</ul>
<blockquote>
<p><em>Ad hoc polymorphism</em> refer to polymorphic functions that can be applied to arguments of different types, but that behave differently depending on the type of the argument to which they are applied.</p>
</blockquote>
<ul>
<li>Parametric Polymorphism</li>
</ul>
<blockquote>
<p><em>Parametric polymorphism</em> allows a function or a data type to be written generically, so that it can handle values <em>uniformly</em> without depending on their type.</p>
</blockquote>
<ul>
<li>Subtyping</li>
</ul>
<blockquote>
<p>Subtyping allows a function to be written to take an object of a certain type <em>T</em>, but also work correctly, if passed an object that belongs to a type <em>S</em> that is a subtype of <em>T</em> (according to the <a href="https://en.wikipedia.org/wiki/Liskov_substitution_principle" target="_blank" rel="noopener">Liskov substitution principle</a>).</p>
</blockquote>
<p>Note: Inheritance should not be confused with subtyping.</p>
<p>More</p>
<p><a href="https://en.wikipedia.org/wiki/Method_dispatch" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/Method_dispatch</a></p>
<h4 id="Multiple-Inheritance"><a href="#Multiple-Inheritance" class="headerlink" title="Multiple Inheritance"></a>Multiple Inheritance</h4><p><a href="https://en.wikipedia.org/wiki/Multiple_inheritance#The_diamond_problem" target="_blank" rel="noopener">The Diamond Problem</a></p>
<h4 id="原则"><a href="#原则" class="headerlink" title="原则"></a>原则</h4><h4 id="Composition-over-inheritance"><a href="#Composition-over-inheritance" class="headerlink" title="Composition over inheritance"></a><a href="https://en.wikipedia.org/wiki/Composition_over_inheritance" target="_blank" rel="noopener">Composition over inheritance</a></h4><blockquote>
<p>Classes should achieve <a href="https://en.wikipedia.org/wiki/Polymorphism_(computer_science)" target="_blank" rel="noopener">polymorphic</a> behavior and <a href="https://en.wikipedia.org/wiki/Code_reuse" target="_blank" rel="noopener">code reuse</a> by their <a href="https://en.wikipedia.org/wiki/Object_composition" target="_blank" rel="noopener">composition</a> (by containing instances of other classes that implement the desired functionality) rather than <a href="https://en.wikipedia.org/wiki/Inheritance_(computer_science)" target="_blank" rel="noopener">inheritance</a> from a base or parent class.</p>
</blockquote>
<h4 id="SOLID"><a href="#SOLID" class="headerlink" title="SOLID"></a><a href="https://en.wikipedia.org/wiki/SOLID" target="_blank" rel="noopener">SOLID</a></h4><ul>
<li><a href="https://en.wikipedia.org/wiki/Single-responsibility_principle" target="_blank" rel="noopener">Single Responsibility Principle</a></li>
</ul>
<blockquote>
<p>The single-responsibility principle (SRP) states that <strong>every module, class or function in a computer program should have responsibility over a single part of that program’s functionality</strong>, which it should encapsulate.</p>
</blockquote>
<p><a href="https://pasztor.at/blog/clean-code-responsibilities/" target="_blank" rel="noopener">https://pasztor.at/blog/clean-code-responsibilities/</a></p>
<p><a href="https://blog.ploeh.dk/2011/06/07/SOLIDCodeisnt" target="_blank" rel="noopener">Application of the Single Responsibility Principle (SRP) leads to many small classes.</a></p>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Open%E2%80%93closed_principle" target="_blank" rel="noopener">Open-closed Principle</a></li>
</ul>
<blockquote>
<p>The open–closed principle states “software entities (classes, modules, functions, etc.) should be open for extension, but closed for modification”; that is, such an entity can <strong>allow its behaviour to be extended without modifying its source code</strong>.</p>
</blockquote>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Liskov_substitution_principle" target="_blank" rel="noopener">Liskov substitution principle</a></li>
</ul>
<blockquote>
<p>Substitutability stating that, <strong>if S is a subtype of T, then objects of type T may be replaced with objects of type S</strong> (i.e. an object of type T may be substituted with any object of a subtype S) without altering any of the desirable properties of the program (correctness, task performed, etc.). </p>
</blockquote>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Interface_segregation_principle" target="_blank" rel="noopener">Interface Segregation Principle</a></li>
</ul>
<blockquote>
<p>The interface-segregation principle (ISP) states that <strong>no client should be forced to depend on methods it does not use.</strong> ISP splits interfaces that are very large into smaller and more specific ones so that clients will only have to know about the methods that are of interest to them. ISP is intended to keep a system decoupled and thus easier to refactor, change, and redeploy.Such shrunken interfaces are also called <a href="https://martinfowler.com/bliki/RoleInterface.html" target="_blank" rel="noopener"><em>role interface</em>s.</a></p>
</blockquote>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Dependency_inversion_principle" target="_blank" rel="noopener">Denpendency Inversion Principle</a></li>
</ul>
<blockquote>
<ol>
<li>High-level modules should not depend on low-level modules. Both should depend on abstractions (e.g. interfaces).</li>
<li>Abstractions should not depend on details. Details (concrete implementations) should depend on abstractions.</li>
</ol>
</blockquote>
<p><a href="https://pasztor.at/blog/clean-code-dependencies/" target="_blank" rel="noopener">https://pasztor.at/blog/clean-code-dependencies/</a></p>
<p>More</p>
<p><a href="https://blog.ploeh.dk/2011/06/07/SOLIDCodeisnt/" target="_blank" rel="noopener">https://blog.ploeh.dk/2011/06/07/SOLIDCodeisnt/</a></p>
<h4 id="GRASP"><a href="#GRASP" class="headerlink" title="GRASP"></a>GRASP</h4><p><a href="https://en.wikipedia.org/wiki/GRASP_(object-oriented_design)" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/GRASP_(object-oriented_design)</a></p>
<h4 id="设计模式"><a href="#设计模式" class="headerlink" title="设计模式"></a>设计模式</h4><p><a href="https://en.wikipedia.org/wiki/Factory_(object-oriented_programming)" target="_blank" rel="noopener">Factory Pattern</a></p>
<p>如何正确的使用class</p>
<p><a href="https://medium.com/javascript-scene/how-to-fix-the-es6-class-keyword-2d42bb3f4caf" target="_blank" rel="noopener">https://medium.com/javascript-scene/how-to-fix-the-es6-class-keyword-2d42bb3f4caf</a></p>
<p><a href="https://medium.com/@dan_abramov/how-to-use-classes-and-sleep-at-night-9af8de78ccb4" target="_blank" rel="noopener">https://medium.com/@dan_abramov/how-to-use-classes-and-sleep-at-night-9af8de78ccb4</a></p>
<p><a href="http://blog.wolksoftware.com/about-classes-inheritance-and-object-oriented-design-in-typescript-and-es6" target="_blank" rel="noopener">http://blog.wolksoftware.com/about-classes-inheritance-and-object-oriented-design-in-typescript-and-es6</a></p>
<p><a href="https://en.wikipedia.org/wiki/Inversion_of_control" target="_blank" rel="noopener">IOC</a></p>
<blockquote>
<p>IoC inverts the flow of control as compared to traditional control flow. In IoC, custom-written portions of a computer program receive the flow of control from a generic framework. </p>
</blockquote>
<p><a href="https://pasztor.at/blog/what-is-the-ioc-container/" target="_blank" rel="noopener">https://pasztor.at/blog/what-is-the-ioc-container/</a></p>
<p><a href="https://en.wikipedia.org/wiki/Dependency_injection" target="_blank" rel="noopener">Dependency injection</a></p>
<p><a href="https://pasztor.at/blog/clean-code-dependencies/" target="_blank" rel="noopener">https://pasztor.at/blog/clean-code-dependencies/</a></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><h4 id="Q-amp-A"><a href="#Q-amp-A" class="headerlink" title="Q&amp;A"></a>Q&amp;A</h4><p>Dependency inversion Principle in Dynamic programming languages.</p>
<p><a href="https://softwareengineering.stackexchange.com/questions/195176/how-does-dependency-inversion-principle-work-in-languages-without-interfaces" target="_blank" rel="noopener">https://softwareengineering.stackexchange.com/questions/195176/how-does-dependency-inversion-principle-work-in-languages-without-interfaces</a></p>
<p>Dependency injection 和动态语言</p>
<p><a href="https://blog.tonyseek.com/post/notes-about-ioc-and-di/" target="_blank" rel="noopener">https://blog.tonyseek.com/post/notes-about-ioc-and-di/</a></p>
<h3 id="Declarative-Programming"><a href="#Declarative-Programming" class="headerlink" title="Declarative Programming"></a>Declarative Programming</h3><h3 id="Functional-Programming-FP"><a href="#Functional-Programming-FP" class="headerlink" title="Functional Programming - FP"></a>Functional Programming - FP</h3><h4 id="Pure-Function"><a href="#Pure-Function" class="headerlink" title="Pure Function"></a><a href="https://en.wikipedia.org/wiki/Pure_function" target="_blank" rel="noopener">Pure Function</a></h4><blockquote>
<p>A <strong>pure function</strong> is a <a href="https://en.wikipedia.org/wiki/Subroutine" target="_blank" rel="noopener">function</a> that has the following properties:</p>
<ol>
<li>Its <a href="https://en.wikipedia.org/wiki/Return_statement" target="_blank" rel="noopener">return value</a> is the same for the same <a href="https://en.wikipedia.org/wiki/Argument_of_a_function" target="_blank" rel="noopener">arguments</a> (no variation with local <a href="https://en.wikipedia.org/wiki/Static_variable" target="_blank" rel="noopener">static variables</a>, <a href="https://en.wikipedia.org/wiki/Non-local_variable" target="_blank" rel="noopener">non-local variables</a>, mutable <a href="https://en.wikipedia.org/wiki/Value_type_and_reference_type" target="_blank" rel="noopener">reference arguments</a> or input streams from <a href="https://en.wikipedia.org/wiki/Input/output" target="_blank" rel="noopener">I/O devices</a>).</li>
<li>Its evaluation has no <a href="https://en.wikipedia.org/wiki/Side_effect_(computer_science)" target="_blank" rel="noopener">side effects</a> (no mutation of local static variables, non-local variables, mutable reference arguments or I/O streams).</li>
</ol>
</blockquote>
<p>Thus a pure function is a computational analogue of a mathematical function.</p>
<h4 id="Currying"><a href="#Currying" class="headerlink" title="Currying"></a><a href="https://en.wikipedia.org/wiki/Currying" target="_blank" rel="noopener">Currying</a></h4><blockquote>
<p>Currying is the technique of converting a function that takes multiple arguments into a sequence of functions that each take a single argument. </p>
</blockquote>
<p><a href="https://hughfdjackson.com/javascript/why-curry-helps/" target="_blank" rel="noopener">Why Curry Helps</a> by Hugh Jackson</p>
<p><a href="https://www.youtube.com/watch?v=m3svKOdZijA&app=desktop" target="_blank" rel="noopener">Hey Underscore, You’re Doing It Wrong!</a> by Brian Lonsdorf</p>
<p>Javascript library - Ramda</p>
<ul>
<li><a href="http://buzzdecafe.github.io/code/2014/05/16/introducing-ramda" target="_blank" rel="noopener">Introducing Ramda</a> by Buzz de Cafe</li>
<li><a href="http://fr.umio.us/favoring-curry/" target="_blank" rel="noopener">Favoring Curry</a> by Scott Sauyet</li>
<li><a href="http://fr.umio.us/why-ramda/" target="_blank" rel="noopener">Why Ramda?</a> by Scott Sauyet</li>
<li><a href="https://randycoulman.com/blog/categories/thinking-in-ramda" target="_blank" rel="noopener">Thinking in Ramda</a> by Randy Coulman</li>
</ul>
<h4 id="Partial-Application"><a href="#Partial-Application" class="headerlink" title="Partial Application"></a><a href="https://en.wikipedia.org/wiki/Partial_application" target="_blank" rel="noopener">Partial Application</a></h4><blockquote>
<p>Partial application (or partial function application) refers to the process of fixing a number of arguments to a function, producing another function of smaller arity.</p>
</blockquote>
<p>Other Insights</p>
<p><a href="http://wiki.c2.com/?ClosuresAndObjectsAreEquivalent" target="_blank" rel="noopener">http://wiki.c2.com/?ClosuresAndObjectsAreEquivalent</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/06/19/ECMAScript2015-ES6%E7%89%B9%E6%80%A7%E6%80%BB%E7%BB%93/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="rockham">
      <meta itemprop="description" content="没有无用的知识。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Introspection">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/06/19/ECMAScript2015-ES6%E7%89%B9%E6%80%A7%E6%80%BB%E7%BB%93/" class="post-title-link" itemprop="url">ECMAScript2015/ES6特性</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-06-19 23:11:23" itemprop="dateCreated datePublished" datetime="2020-06-19T23:11:23+00:00">2020-06-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-09-16 13:39:52" itemprop="dateModified" datetime="2020-09-16T13:39:52+00:00">2020-09-16</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="JavaScript历史"><a href="#JavaScript历史" class="headerlink" title="JavaScript历史"></a>JavaScript历史</h2><p><a href="https://medium.com/@madasamy/javascript-brief-history-and-ecmascript-es6-es7-es8-features-673973394df4" target="_blank" rel="noopener">https://medium.com/@madasamy/javascript-brief-history-and-ecmascript-es6-es7-es8-features-673973394df4</a></p>
<h3 id="Proposal"><a href="#Proposal" class="headerlink" title="Proposal"></a>Proposal</h3><p><a href="https://tc39.github.io/process-document/" target="_blank" rel="noopener">https://tc39.github.io/process-document/</a></p>
<h2 id="ECMAScript-2015-ES6-特性"><a href="#ECMAScript-2015-ES6-特性" class="headerlink" title="ECMAScript 2015/ES6 特性"></a>ECMAScript 2015/ES6 特性</h2><p><a href="https://babeljs.io/docs/en/learn/" target="_blank" rel="noopener">https://babeljs.io/docs/en/learn/</a></p>
<p><a href="https://ponyfoo.com/articles/es6" target="_blank" rel="noopener">https://ponyfoo.com/articles/es6</a></p>
<h4 id="模组化：CommonJS和ES6-import"><a href="#模组化：CommonJS和ES6-import" class="headerlink" title="模组化：CommonJS和ES6 import"></a>模组化：CommonJS和ES6 import</h4><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import" target="_blank" rel="noopener">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import</a></p>
<p>require() and module.exports</p>
<p>import and export </p>
<h4 id="模板字面量-Template-literals-Template-strings"><a href="#模板字面量-Template-literals-Template-strings" class="headerlink" title="模板字面量(Template literals/Template strings)"></a>模板字面量(Template literals/Template strings)</h4><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals" target="_blank" rel="noopener">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals</a></p>
<h4 id="解构赋值；Spread-syntax-Rest-parameter"><a href="#解构赋值；Spread-syntax-Rest-parameter" class="headerlink" title="解构赋值；Spread syntax, Rest parameter"></a>解构赋值；Spread syntax, Rest parameter</h4><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment" target="_blank" rel="noopener">数组和对象解构赋值</a></p>
<p>Rest parameter 对比 argument object</p>
<p>对象解构赋值 对比 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign" target="_blank" rel="noopener">Object.assign()</a></p>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax" target="_blank" rel="noopener">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax</a></p>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/rest_parameters" target="_blank" rel="noopener">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/rest_parameters</a></p>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/arguments" target="_blank" rel="noopener">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/arguments</a></p>
<h4 id="getter-amp-setter"><a href="#getter-amp-setter" class="headerlink" title="getter &amp; setter"></a>getter &amp; setter</h4><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/get" target="_blank" rel="noopener">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/get</a></p>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/set" target="_blank" rel="noopener">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/set</a></p>
<h4 id="简短的定义对象的方法"><a href="#简短的定义对象的方法" class="headerlink" title="简短的定义对象的方法"></a>简短的定义对象的方法</h4><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Method_definitions" target="_blank" rel="noopener">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Method_definitions</a></p>
<h4 id="Computed-property-names"><a href="#Computed-property-names" class="headerlink" title="Computed property names"></a>Computed property names</h4><blockquote>
<p>Starting with ECMAScript 2015, the object initializer syntax also supports computed property names. That allows you to put an expression in brackets <code>[]</code>, that will be computed and used as the property name. This is reminiscent of the bracket notation of the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Property_Accessors" target="_blank" rel="noopener">property accessor</a> syntax, which you may have used to read and set properties already.</p>
</blockquote>
<h4 id="类"><a href="#类" class="headerlink" title="类"></a>类</h4><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes" target="_blank" rel="noopener">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes</a></p>
<p>类是“特殊的函数”，是基于JS原型继承的语法糖。</p>
<p>特点：</p>
<ul>
<li>和函数一样，声明类有两种语法 —— 类声明和类表达式</li>
<li>与函数声明不一样，类声明不会被hoisted（提升）</li>
<li>类里面的代码永远以strict mode执行，为了提高性能</li>
<li>支持：构造函数，实例属性（构造函数内定义），静态属性（在类体之外定义），方法，静态方法，继承</li>
<li>super调用父类函数</li>
</ul>
<p>注意：</p>
<ul>
<li>autoboxing不会发生：this如果为undefined，不会被设置为全局对象(Global Object)，因为class内永远是strict mode</li>
</ul>
<p>实验性功能</p>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes#Field_declarations" target="_blank" rel="noopener">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes#Field_declarations</a></p>
<h4 id="回调，Promise"><a href="#回调，Promise" class="headerlink" title="回调，Promise"></a>回调，Promise</h4><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise</a></p>
<p>Promise构造函数</p>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/Promise" target="_blank" rel="noopener">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/Promise</a></p>
<h4 id="内置对象"><a href="#内置对象" class="headerlink" title="内置对象"></a>内置对象</h4><p>Map &amp; Set</p>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map" target="_blank" rel="noopener">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map</a></p>
<p>TypedArray</p>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" target="_blank" rel="noopener">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray</a></p>
<h4 id="Symbol"><a href="#Symbol" class="headerlink" title="Symbol"></a>Symbol</h4><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol" target="_blank" rel="noopener">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol</a></p>
<h4 id="BigInt"><a href="#BigInt" class="headerlink" title="BigInt"></a>BigInt</h4><h4 id="迭代器和生成器"><a href="#迭代器和生成器" class="headerlink" title="迭代器和生成器"></a>迭代器和生成器</h4><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Iterators_and_Generators" target="_blank" rel="noopener">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Iterators_and_Generators</a></p>
<h4 id="Iterator-Protocol"><a href="#Iterator-Protocol" class="headerlink" title="Iterator Protocol"></a><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols" target="_blank" rel="noopener">Iterator Protocol</a></h4><blockquote>
<p>In order to be <strong>iterable</strong>, an object must implement the <strong>@@iterator</strong> method, meaning that the object (or one of the objects up its <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Inheritance_and_the_prototype_chain" target="_blank" rel="noopener">prototype chain</a>) must have a property with a <code>@@iterator</code> key which is available via constant <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol/iterator" target="_blank" rel="noopener"><code>Symbol.iterator</code></a>:</p>
</blockquote>
<h2 id="实验性特性"><a href="#实验性特性" class="headerlink" title="实验性特性"></a>实验性特性</h2><p>公开类字段  stage 3</p>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes/Public_class_fields" target="_blank" rel="noopener">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes/Public_class_fields</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/06/19/Web%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0-%E7%BD%91%E7%BB%9C%E7%AF%87/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="rockham">
      <meta itemprop="description" content="没有无用的知识。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Introspection">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/06/19/Web%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0-%E7%BD%91%E7%BB%9C%E7%AF%87/" class="post-title-link" itemprop="url">Web前端笔记 - 网络篇</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-06-19 17:35:28" itemprop="dateCreated datePublished" datetime="2020-06-19T17:35:28+00:00">2020-06-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-09-16 13:39:52" itemprop="dateModified" datetime="2020-09-16T13:39:52+00:00">2020-09-16</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="HTTP"><a href="#HTTP" class="headerlink" title="HTTP"></a>HTTP</h1><h3 id="HTTP请求方法"><a href="#HTTP请求方法" class="headerlink" title="HTTP请求方法"></a>HTTP请求方法</h3><h3 id="HTTP-响应状态码"><a href="#HTTP-响应状态码" class="headerlink" title="HTTP 响应状态码"></a>HTTP 响应状态码</h3><p>101 Switching Protocol</p>
<p>表示服务器正在按客户端要求切换协议（通过Upgrade首部）。<a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Protocol_upgrade_mechanism" target="_blank" rel="noopener">Protocol upgrade mechanism详情</a></p>
<p>Websockets用例</p>
<figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">HTTP/1.1 <span class="number">101</span> Switching Protocols</span><br><span class="line"><span class="attribute">Upgrade</span>: websocket</span><br><span class="line"><span class="attribute">Connection</span>: Upgrade</span><br></pre></td></tr></table></figure>

<h4 id="成功-2xx"><a href="#成功-2xx" class="headerlink" title="成功 - 2xx"></a>成功 - 2xx</h4><p>200 OK</p>
<p>请求成功。</p>
<p>针对不同的请求方式有不同意义：</p>
<ul>
<li>GET：取得了资源，放在报文体。</li>
<li>HEAD：取得了首部，放在报文体。</li>
<li>POST：处理结果，放在报文体。</li>
<li>TRACE：请求报文，放在报文体。</li>
</ul>
<p>201 Created</p>
<p>请求成功。在返回响应时，新的资源已经被积极创建并且包含在响应体中。Location首部指示资源URL。</p>
<p>202 Accepted</p>
<p>请求被接受，但还未开始或完成处理。202不保证处理的结果，通常表示这个请求被交予其他进程或服务器处理。</p>
<h4 id="重定向-3xx"><a href="#重定向-3xx" class="headerlink" title="重定向 - 3xx"></a>重定向 - 3xx</h4><p>301 Moved Permanently</p>
<p>请求的资源被永久移动到了Location首部的URL。浏览器重定向，搜索引擎会更新资源的URL。</p>
<p>虽然标准要求重定向时请求方法和请求体不能改变，但并不是所有的UA都遵从，所以推荐仅对GET和HEAD请求响应301。使用308 Permanent Redirect响应POST请求，严格要求不能改变。</p>
<p>302 Found</p>
<p>请求的资源被临时移动到了Location首部的URL。浏览器重定向，搜索引擎不会更新资源的URL。</p>
<p>虽然标准要求重定向时请求方法和请求体不能改变，但并不是所有的UA都遵从，所以推荐仅对GET和HEAD请求响应302。使用307 Temporary Redirect响应POST请求，严格要求不能改变。</p>
<p>如果你想让请求方法改变为GET，请使用303 See Other。</p>
<p>303 See Other</p>
<p>表示重定向到另一个与新创建资源无关的页面，比如确认页面或者处理进度页面。一般只在POST与PUT请求返回303。</p>
<p>304 Not Modified</p>
<p>表示资源未改变，无需重新传输请求资源。通常用来回应缓存。</p>
<p>当请求带有 <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/If-None-Match" target="_blank" rel="noopener"><code>If-None-Match</code></a> 或 <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/If-Modified-Since" target="_blank" rel="noopener"><code>If-Modified-Since</code></a> 首部使用</p>
<h4 id="客户端错误-4xx"><a href="#客户端错误-4xx" class="headerlink" title="客户端错误 - 4xx"></a>客户端错误 - 4xx</h4><p><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401" target="_blank" rel="noopener">401 Unauthorized</a></p>
<p>拒绝请求，因为针对目标资源的权限不足。</p>
<p>同时应响应 <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/WWW-Authenticate" target="_blank" rel="noopener"><code>WWW-Authenticate</code></a>首部，表明应该如何正确授权。</p>
<p>403 Forbidden</p>
<p>明白你的请求，但是拒绝授权。</p>
<p>和401相似，但是这种情况下重新授权也没用，因为这个操作与程序逻辑绑定，永远禁止。</p>
<p>404 Not Found</p>
<p>服务器无法找到请求的资源。</p>
<h4 id="服务器错误-5xx"><a href="#服务器错误-5xx" class="headerlink" title="服务器错误 - 5xx"></a>服务器错误 - 5xx</h4><p>500 Internal Server Error</p>
<p>服务器遇到了一个未预料的错误导致其无法完成处理请求。</p>
<p>通常用来表示找不到一个更好的5xx状态码来响应。记录到日志来预防同样的事情发生。</p>
<p>502 Bad Gateway</p>
<p>服务器（作为网关或代理）从上游接收到了一个无效的响应。</p>
<p>504 Gateway timeout</p>
<p>服务器（作为网关或代理）在规定的时间内没有从上游收到响应。</p>
<h2 id="HTTP跨源资源共享"><a href="#HTTP跨源资源共享" class="headerlink" title="HTTP跨源资源共享"></a>HTTP跨源资源共享</h2><p><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS" target="_blank" rel="noopener">https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS</a></p>
<p>同源政策：<a href="https://developer.mozilla.org/en-US/docs/Web/Security/Same-origin_policy" target="_blank" rel="noopener">https://developer.mozilla.org/en-US/docs/Web/Security/Same-origin_policy</a></p>
<p>协议，主机与端口一致的URL为同源</p>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Origin" target="_blank" rel="noopener"><code>Access-Control-Allow-Origin</code></a></p>
<p>Preflight request</p>
<p><a href="https://developer.mozilla.org/en-US/docs/Glossary/Preflight_request" target="_blank" rel="noopener">https://developer.mozilla.org/en-US/docs/Glossary/Preflight_request</a></p>
<p>preflight request是使用HTTP OPTIONS请求方法询问服务器是否支持CORS与一些特定方法和首部。</p>
<p>请求时，使用<a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Request-Method" target="_blank" rel="noopener"><code>Access-Control-Request-Method</code></a>, <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Request-Headers" target="_blank" rel="noopener"><code>Access-Control-Request-Headers</code></a>和<a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Origin" target="_blank" rel="noopener"><code>Origin</code></a>首部；如果服务器允许，会响应 <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Methods" target="_blank" rel="noopener"><code>Access-Control-Allow-Methods</code></a>表示允许那些请求方法，</p>
<p>preflight request一般由浏览器自动发起。</p>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Max-Age" target="_blank" rel="noopener">Access-Control-Max-Age</a> </p>
<h2 id="HTTP缓存"><a href="#HTTP缓存" class="headerlink" title="HTTP缓存"></a>HTTP缓存</h2><p><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Caching" target="_blank" rel="noopener">https://developer.mozilla.org/en-US/docs/Web/HTTP/Caching</a></p>
<h5 id="通常被缓存的HTTP响应"><a href="#通常被缓存的HTTP响应" class="headerlink" title="通常被缓存的HTTP响应"></a>通常被缓存的HTTP响应</h5><ul>
<li>GET请求</li>
</ul>
<p>Cache：任何提供存储缓存的服务，如代理服务器，浏览器。</p>
<p>由于HTTP是一个client-server协议，服务器无法告知Cache和客户端资源发生了改变，所以它们需要沟通一个时间。在这个时间之前，资源会被认为是最新的，而在这个时间之后，资源会被认为是过期的。另一方面，对于一个Cache来说，存储的数据的空间有限，所以，Cache会周期性的移除一些缓存，称之为<em>cache eviction</em>。自然，。注意，eviction算法不会马上移除过期的缓存，当有客户端请求Cache中的一个过期资源时，Cache会利用<a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/If-None-Match" target="_blank" rel="noopener"><code>If-None-Match</code></a>首部传递这个请求到源服务器，确认这个资源是否还是最新。如果是这样，服务器会返回304状态码，不必重新发送资源，从而节省了一定的带宽。</p>
<h5 id="Expires-http-1-0"><a href="#Expires-http-1-0" class="headerlink" title="Expires (http 1.0)"></a>Expires (http 1.0)</h5><p><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Expires" target="_blank" rel="noopener">https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Expires</a></p>
<p>一个时间<http-date>，表示这个资源什么时候会被认为过期。</p>
<h5 id="Cache-Control通用首部-http-1-1"><a href="#Cache-Control通用首部-http-1-1" class="headerlink" title="Cache-Control通用首部 (http 1.1)"></a><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cache-Control" target="_blank" rel="noopener">Cache-Control</a>通用首部 (http 1.1)</h5><p>不缓存</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Cache-Control: no-store</span><br></pre></td></tr></table></figure>

<p>使用缓存前先发送一个请求到源服务器验证</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Cache-Control: no-cache</span><br></pre></td></tr></table></figure>

<p>响应可以被任何缓存缓存，比如：代理服务器，反代，浏览器等。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Cache-Control: public</span><br></pre></td></tr></table></figure>

<p>表示该响应是针对单个用户的，不应使用共享缓存。这种条件下，只有私人浏览器允许存储缓存。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Cache-Control: private</span><br></pre></td></tr></table></figure>

<p>过期时间，这个时间从请求时间开始算起。缓存在max-age这段时间里被认为是最新的。该指令会覆盖Expires首部。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Cache-Control: max-age&#x3D;31536000</span><br><span class="line">&#x2F;&#x2F; max-age的单位为秒，31536000秒表示365天</span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Cache-Control: must-revalidate</span><br></pre></td></tr></table></figure>

<p>如果Expires首部与max-age均未指定，那么过期时间根据<a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Last-Modified" target="_blank" rel="noopener">Last-Modified</a>首部设定为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(Date首部时间 - Last-Modified首部时间) &#x2F; 10</span><br></pre></td></tr></table></figure>

<h5 id="缓存验证-ETag"><a href="#缓存验证-ETag" class="headerlink" title="缓存验证 - ETag"></a>缓存验证 - ETag</h5><p>强验证：ETag响应头是一串UA不理解的字符。如果一个资源的响应头中包含ETag首部，客户端会在验证缓存时带上<a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/If-None-Match" target="_blank" rel="noopener"><code>If-None-Match</code></a>首部，如果服务器的ETag与请求的<a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/If-None-Match" target="_blank" rel="noopener"><code>If-None-Match</code></a>首部不相同，则服务器返回200 OK状态码与资源，否则返回304状态码表示资源未修改。</p>
<p>弱验证：如果一个资源的响应头中包含<a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Last-Modified" target="_blank" rel="noopener">Last-Modified</a>首部，客户端会在验证缓存时指定<a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/If-Modified-Since" target="_blank" rel="noopener"><code>If-Modified-Since</code></a>请求首部。</p>
<h5 id="Vary"><a href="#Vary" class="headerlink" title="Vary"></a>Vary</h5><p>条件式请求</p>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Conditional_requests" target="_blank" rel="noopener">https://developer.mozilla.org/en-US/docs/Web/HTTP/Conditional_requests</a></p>
<p>简单点：<a href="https://blog.techbridge.cc/2017/06/17/cache-introduction/" target="_blank" rel="noopener">https://blog.techbridge.cc/2017/06/17/cache-introduction/</a></p>
<h2 id="HTTP安全-CSRF和XSS"><a href="#HTTP安全-CSRF和XSS" class="headerlink" title="HTTP安全 - CSRF和XSS"></a>HTTP安全 - CSRF和XSS</h2><p><a href="https://en.wikipedia.org/wiki/Cross-site_scripting" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/Cross-site_scripting</a></p>
<h3 id="是什么"><a href="#是什么" class="headerlink" title="是什么"></a>是什么</h3><p>什么是同源：协议(protocol)，主机(host)与端口(port)一致的URL为同源，参考：<a href="https://developer.mozilla.org/en-US/docs/Web/Security/Same-origin_policy" target="_blank" rel="noopener">https://developer.mozilla.org/en-US/docs/Web/Security/Same-origin_policy</a></p>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie" target="_blank" rel="noopener">https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie</a></p>
<p>跨站请求伪造(CSRF)指第三方网站向受攻击的网站发送跨站请求，使浏览器带着Cookie访问目标网站进行</p>
<p>跨站脚本攻击(XSS)指第三方网站利用JS访问受攻击网站Cookie中的敏感信息。</p>
<h3 id="如何预防"><a href="#如何预防" class="headerlink" title="如何预防"></a>如何预防</h3><p>减轻CSRF可以通过首部Set-Cookie的Samesite属性，</p>
<p>Samesite有三个可选参数：</p>
<ul>
<li>Strict，只有在同源下浏览器才会发送Cookie给服务器</li>
<li>Lax，现代浏览器默认值，第三方通过子请求(访问图片等)，Cookie不会被发送，但是可以通过网站导航的方式发送</li>
<li>None，旧浏览器的默认值，任何跨源请求都会同时发送Cookie</li>
</ul>
<p>也可以通过实现Restful API来预防</p>
<p>减轻XSS可以通过设置首部Cookie的Httponly属性，使得Cookie只能被发送到服务器，而无法被document.cookie接口访问。</p>
<p>同时还可以通过设置短暂的Cookie有效期限(<code>Expires</code>或<code>Max-Age</code>)<del>或者用Web_Storage_API取代Cookie</del>来预防这两种攻击。</p>
<p>同时也应设置Secure属性，只允许Cookie在HTTPS协议中发送，一定程度上减轻中间人攻击。</p>
<h3 id="Websockets"><a href="#Websockets" class="headerlink" title="Websockets"></a>Websockets</h3><p><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Protocol_upgrade_mechanism" target="_blank" rel="noopener">https://developer.mozilla.org/en-US/docs/Web/HTTP/Protocol_upgrade_mechanism</a></p>
<h2 id="传输层"><a href="#传输层" class="headerlink" title="传输层"></a>传输层</h2><p><a href="https://zh.wikipedia.org/wiki/%E4%BC%A0%E8%BE%93%E6%8E%A7%E5%88%B6%E5%8D%8F%E8%AE%AE" target="_blank" rel="noopener">TCP</a></p>
<h3 id="TCP和UDP的区别"><a href="#TCP和UDP的区别" class="headerlink" title="TCP和UDP的区别"></a>TCP和UDP的区别</h3><p>TCP发送数据前需要先建立连接，UDP则不需要。</p>
<p>包括三次握手与四次挥手</p>
<p>TCP提供差错检测，按序到位，拥塞控制。</p>
<p>UDP则不提供，所以它适用于对数据完整性要求不高的场景，如流媒体。</p>
<h3 id="TCP三次握手"><a href="#TCP三次握手" class="headerlink" title="TCP三次握手"></a>TCP三次握手</h3>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">rockham</p>
  <div class="site-description" itemprop="description">没有无用的知识。</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">20</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">31</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/rockhamx" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;rockhamx" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">rockham</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
